(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{414:(e,t,a)=>{Promise.resolve().then(a.bind(a,9348)),Promise.resolve().then(a.bind(a,5067))},5067:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(5155),l=a(2115);function r(){let[e,t]=(0,l.useState)({totalChecks:0,automatedChecks:0,pendingApprovals:0,activeTeams:0});(0,l.useEffect)(()=>{t({totalChecks:25,automatedChecks:18,pendingApprovals:7,activeTeams:4})},[]);let a=[{name:"Total Checks",value:e.totalChecks,color:"bg-blue-500",textColor:"text-blue-700",bgColor:"bg-blue-50"},{name:"Automated Checks",value:e.automatedChecks,color:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50"},{name:"Pending Approvals",value:e.pendingApprovals,color:"bg-yellow-500",textColor:"text-yellow-700",bgColor:"bg-yellow-50"},{name:"Active Teams",value:e.activeTeams,color:"bg-purple-500",textColor:"text-purple-700",bgColor:"bg-purple-50"}];return(0,s.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:a.map(e=>(0,s.jsx)("div",{className:"".concat(e.bgColor," overflow-hidden rounded-lg px-4 py-5 shadow"),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-md")})}),(0,s.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,s.jsxs)("dl",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,s.jsx)("dd",{className:"text-lg font-medium ".concat(e.textColor),children:e.value})]})})]})},e.name))})}},9348:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(5155),l=a(2115);let r=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}),c=l.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?l.createElement("title",{id:s},a):null,l.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))});function n(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)([]),[i,o]=(0,l.useState)({team:"all",status:"all",checkType:"all"}),[d,x]=(0,l.useState)(!0);(0,l.useEffect)(()=>{p()},[i]);let p=async()=>{try{x(!0);let e=new URLSearchParams;"all"!==i.team&&e.set("team",i.team),"all"!==i.status&&e.set("status",i.status),"all"!==i.checkType&&e.set("checkType",i.checkType);let a=await fetch("/api/compliance?".concat(e)),s=await a.json();s.checks&&t(s.checks)}catch(e){console.error("Failed to fetch checks:",e)}finally{x(!1)}},h=async()=>{if(0!==a.length)try{let e=await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedChecks:a,adminUserId:"current-user-id"})}),t=await e.json();t.session&&(window.location.href="/sessions/".concat(t.session.id))}catch(e){console.error("Failed to start collection:",e)}};return d?(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-12 bg-gray-200 rounded"},t))})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("select",{value:i.team,onChange:e=>o(t=>({...t,team:e.target.value})),className:"input",children:[(0,s.jsx)("option",{value:"all",children:"All Teams"}),(0,s.jsx)("option",{value:"IT",children:"IT"}),(0,s.jsx)("option",{value:"Security",children:"Security"}),(0,s.jsx)("option",{value:"Legal",children:"Legal"}),(0,s.jsx)("option",{value:"Network",children:"Network"})]}),(0,s.jsxs)("select",{value:i.status,onChange:e=>o(t=>({...t,status:e.target.value})),className:"input",children:[(0,s.jsx)("option",{value:"all",children:"All Statuses"}),(0,s.jsx)("option",{value:"Pending",children:"Pending"}),(0,s.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,s.jsx)("option",{value:"Completed",children:"Completed"}),(0,s.jsx)("option",{value:"Approved",children:"Approved"})]}),(0,s.jsxs)("select",{value:i.checkType,onChange:e=>o(t=>({...t,checkType:e.target.value})),className:"input",children:[(0,s.jsx)("option",{value:"all",children:"All Types"}),(0,s.jsx)("option",{value:"SOC 2",children:"SOC 2"}),(0,s.jsx)("option",{value:"GDPR",children:"GDPR"}),(0,s.jsx)("option",{value:"ISO 27001",children:"ISO 27001"}),(0,s.jsx)("option",{value:"PCI DSS",children:"PCI DSS"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[a.length," of ",e.length," checks selected"]}),a.length>0&&(0,s.jsxs)("button",{onClick:h,className:"btn btn-primary",children:["Start Collection (",a.length,")"]})]}),(0,s.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left",children:(0,s.jsx)("input",{type:"checkbox",checked:a.length===e.length&&e.length>0,onChange:()=>{n(a.length===e.length?[]:e.map(e=>e.id))},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Automate"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("input",{type:"checkbox",checked:a.includes(e.id),onChange:()=>{var t;return t=e.id,void n(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.checkName}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.checkType})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.area}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.owner}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.team}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:(e=>{let t="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(e.toLowerCase()){case"pending":return"".concat(t," bg-yellow-100 text-yellow-800");case"in progress":return"".concat(t," bg-blue-100 text-blue-800");case"completed":case"approved":return"".concat(t," bg-green-100 text-green-800");default:return"".concat(t," bg-gray-100 text-gray-800")}})(e.status),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.automate?(0,s.jsx)(r,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(c,{className:"h-5 w-5 text-red-500"})})]},e.id))})]})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=414)),_N_E=e.O()}]);